{"ast":null,"code":"var _jsxFileName = \"/home/diego/Escritorio/OjeadorApp/ojeador/frontend/my-app/src/components/UserProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { AuthContext } from \"./AuthContext\";\nimport jwt_decode from \"jwt-decode\";\nimport useUserProfile from \"../hooks/useUserProfile\";\nimport ProfileImage from \"./ProfileImage\";\nimport { UploadProfileImage } from \"./UploadProfileImage\";\nimport { getAge } from \"../utils/getAge\";\nimport moment from \"moment\";\nimport { categories } from \"../utils/categories\";\nimport { useParams } from \"react-router-dom\";\nimport { GetSkills } from \"./Skills\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction GetProfileUser() {\n  _s();\n\n  const [response, setResponse] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [userInfo, setUserInfo] = useState(\"\");\n  const [token] = useContext(AuthContext);\n  const decodedToken = jwt_decode(token);\n  const [userImage, setUserImage] = useState(\"\");\n  let {\n    userId\n  } = useParams();\n  let isSelfProfile = false;\n  const [formState, setFormState] = useState(\"\");\n  const [userInfoReloader, setUserInfoReloader] = useState(0);\n\n  const refreshUserInfo = () => setUserInfoReloader(Math.random());\n\n  if (!userId) {\n    userId = decodedToken.userId;\n  }\n\n  useEffect(() => {\n    const loadUserInfo = async () => {\n      const response = await fetch(`http://localhost:8000/api/v1/users/profiles/${userId}`);\n\n      if (response.ok) {\n        const body = await response.json();\n        setUserInfo(body.user);\n        setUserEmail(body.user.userEmail);\n        setUserName(body.user.userName);\n        setUserTeam(body.user.userTeam);\n        setUserNumber(body.user.userNumber);\n        setUserDescription(body.user.userDescription);\n        setUserLocation(body.user.userLocation);\n        setUserBirthday(body.user.userBirthday);\n        setUserPosition(body.user.userPosition);\n        setUserImage(body.user.userImage);\n        setFormState(\"activo\");\n      }\n    };\n\n    loadUserInfo();\n  }, [formState, userId, userBirthday]);\n  const birth = moment(userInfo.userBirthday).format(\"YYYY-MM-DD\");\n  const age = getAge(birth);\n  const category = categories(age);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [userInfo.userRol === \"Player\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: userInfo.userNumber\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 40\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n      children: userInfo.userName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: userInfo.userImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `/images/profiles/${userInfo.userImage}`,\n        alt: \"Imagen de perfil\",\n        className: \"profileimage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `/images/profiles/image-default.png`,\n        alt: \"Imagen de perfil\",\n        className: \"profileimage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), userInfo.userRol === \"Player\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Edad: \", age, \" a\\xF1os \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"(\", category, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this) : \"\", userInfo.userRol === \"Player\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Posici\\xF3n: \", userInfo.userPosition, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Equipo: \", userInfo.userTeam, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Localidad: \", userInfo.userLocation, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: userInfo.userDescription\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GetSkills, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(GetProfileUser, \"PiPA2skiHO9tRbLCTny9GV7Olt8=\", false, function () {\n  return [useParams];\n});\n\n_c = GetProfileUser;\nexport { GetProfileUser };\n\nvar _c;\n\n$RefreshReg$(_c, \"GetProfileUser\");","map":{"version":3,"sources":["/home/diego/Escritorio/OjeadorApp/ojeador/frontend/my-app/src/components/UserProfile.js"],"names":["React","useContext","useEffect","useState","AuthContext","jwt_decode","useUserProfile","ProfileImage","UploadProfileImage","getAge","moment","categories","useParams","GetSkills","GetProfileUser","response","setResponse","errorMsg","setErrorMsg","userInfo","setUserInfo","token","decodedToken","userImage","setUserImage","userId","isSelfProfile","formState","setFormState","userInfoReloader","setUserInfoReloader","refreshUserInfo","Math","random","loadUserInfo","fetch","ok","body","json","user","setUserEmail","userEmail","setUserName","userName","setUserTeam","userTeam","setUserNumber","userNumber","setUserDescription","userDescription","setUserLocation","userLocation","setUserBirthday","userBirthday","setUserPosition","userPosition","birth","format","age","category","userRol"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { AuthContext } from \"./AuthContext\";\nimport jwt_decode from \"jwt-decode\";\nimport useUserProfile from \"../hooks/useUserProfile\";\nimport ProfileImage from \"./ProfileImage\";\nimport { UploadProfileImage } from \"./UploadProfileImage\";\nimport { getAge } from \"../utils/getAge\";\nimport moment from \"moment\";\nimport { categories } from \"../utils/categories\";\nimport { useParams } from \"react-router-dom\";\nimport { GetSkills } from \"./Skills\";\n\nfunction GetProfileUser() {\n\n  const [response, setResponse] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [userInfo, setUserInfo] = useState(\"\");\n  const [token] = useContext(AuthContext);\n  const decodedToken = jwt_decode(token);\n  const [userImage, setUserImage] = useState(\"\");\n   let { userId } = useParams();\n   let isSelfProfile = false;\n\n  const [formState, setFormState] = useState(\"\");\n\n  const [userInfoReloader, setUserInfoReloader] = useState(0);\n  const refreshUserInfo = () => setUserInfoReloader(Math.random());\n\n  if (!userId) {\n    userId = decodedToken.userId;\n  }\n\n  useEffect(() => {\n    const loadUserInfo = async () => {\n      const response = await fetch(\n        `http://localhost:8000/api/v1/users/profiles/${userId}`\n      );\n      if (response.ok) {\n        const body = await response.json();\n        setUserInfo(body.user);\n        setUserEmail(body.user.userEmail);\n        setUserName(body.user.userName);\n        setUserTeam(body.user.userTeam);\n        setUserNumber(body.user.userNumber);\n        setUserDescription(body.user.userDescription);\n        setUserLocation(body.user.userLocation);\n        setUserBirthday(body.user.userBirthday);\n        setUserPosition(body.user.userPosition);\n        setUserImage(body.user.userImage);\n        setFormState(\"activo\");\n      }\n    };\n    loadUserInfo();\n  }, [formState, userId, userBirthday]);\n\n  const birth = moment(userInfo.userBirthday).format(\"YYYY-MM-DD\");\n  const age = getAge(birth);\n  const category = categories(age);\n  return (\n    <>\n      {userInfo.userRol === \"Player\" ? <div>{userInfo.userNumber}</div> : \"\"}\n      <div>{userInfo.userName}</div>\n      <div>\n        {userInfo.userImage ? (\n          <img\n            src={`/images/profiles/${userInfo.userImage}`}\n            alt=\"Imagen de perfil\"\n            className=\"profileimage\"\n          ></img>\n        ) : (\n          <img\n            src={`/images/profiles/image-default.png`}\n            alt=\"Imagen de perfil\"\n            className=\"profileimage\"\n          ></img>\n        )}\n      </div>\n      {userInfo.userRol === \"Player\" ? (\n        <div>\n          Edad: {age} años <span>({category})</span>\n        </div>\n      ) : (\n        \"\"\n      )}\n      {userInfo.userRol === \"Player\" ? (\n        <div>Posición: {userInfo.userPosition} </div>\n      ) : (\n        \"\"\n      )}\n      <div>Equipo: {userInfo.userTeam} </div>\n      <div>Localidad: {userInfo.userLocation} </div>\n      <div>\n        <p>{userInfo.userDescription}</p>\n      </div>\n      <GetSkills />\n    </>\n  );\n}\n\nexport { GetProfileUser };\n"]},"metadata":{},"sourceType":"module"}