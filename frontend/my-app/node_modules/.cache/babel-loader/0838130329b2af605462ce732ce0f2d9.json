{"ast":null,"code":"var _jsxFileName = \"/home/diego/Escritorio/OjeadorApp/ojeador/frontend/my-app/src/components/UserProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { AuthContext } from \"./AuthContext\";\nimport jwt_decode from \"jwt-decode\";\nimport ProfileImage from \"./ProfileImage\";\nimport { UploadProfileImage } from \"./UploadProfileImage\";\nimport { getAge } from \"../utils/getAge\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction GetProfileUser() {\n  _s();\n\n  const [userName, setUserName] = useState(\"\");\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userLocation, setUserLocation] = useState(\"\");\n  const [userTeam, setUserTeam] = useState(\"\");\n  const [userNumber, setUserNumber] = useState(\"\");\n  const [userBirthday, setUserBirthday] = useState(\"\");\n  const [userPosition, setUserPosition] = useState(\"Portero\");\n  const [userDescription, setUserDescription] = useState(\"\");\n  const [response, setResponse] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [userInfo, setUserInfo] = useState(\"\");\n  const [token, setToken] = useContext(AuthContext);\n  const decodedToken = jwt_decode(token);\n  const [userImage, setUserImage] = useState(\"\");\n  const {\n    userId,\n    userRol\n  } = decodedToken;\n  const [formState, setFormState] = useState(\"\");\n  const [userInfoReloader, setUserInfoReloader] = useState(0);\n\n  const refreshUserInfo = () => setUserInfoReloader(Math.random());\n\n  useEffect(() => {\n    const loadUserInfo = async () => {\n      const response = await fetch(`http://localhost:8000/api/v1/users/profiles/${userId}`);\n\n      if (response.ok) {\n        const body = await response.json();\n        setUserInfo(body.user);\n        setUserEmail(body.user.userEmail);\n        setUserName(body.user.userName);\n        setUserTeam(body.user.userTeam);\n        setUserNumber(body.user.userNumber);\n        setUserDescription(body.user.userDescription);\n        setUserLocation(body.user.userLocation);\n        setUserBirthday(body.user.userBirthday);\n        setUserPosition(body.user.userPosition);\n        setUserImage(body.user.userImage);\n        setFormState(\"activo\");\n      }\n    };\n\n    loadUserInfo();\n  }, [formState, userId]);\n  const birth = moment(userInfo.userBirthday).format(\"YYYY-MM-DD\");\n  console.log(birth);\n  console.log('Este es le moment', moment());\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: getAge(birth)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 10\n  }, this);\n}\n\n_s(GetProfileUser, \"Gm59vH9aUNl9dcGjLG3sHXOGd9s=\");\n\n_c = GetProfileUser;\nexport { GetProfileUser };\n\nvar _c;\n\n$RefreshReg$(_c, \"GetProfileUser\");","map":{"version":3,"sources":["/home/diego/Escritorio/OjeadorApp/ojeador/frontend/my-app/src/components/UserProfile.js"],"names":["React","useContext","useEffect","useState","AuthContext","jwt_decode","ProfileImage","UploadProfileImage","getAge","moment","GetProfileUser","userName","setUserName","userEmail","setUserEmail","userLocation","setUserLocation","userTeam","setUserTeam","userNumber","setUserNumber","userBirthday","setUserBirthday","userPosition","setUserPosition","userDescription","setUserDescription","response","setResponse","errorMsg","setErrorMsg","userInfo","setUserInfo","token","setToken","decodedToken","userImage","setUserImage","userId","userRol","formState","setFormState","userInfoReloader","setUserInfoReloader","refreshUserInfo","Math","random","loadUserInfo","fetch","ok","body","json","user","birth","format","console","log"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { AuthContext } from \"./AuthContext\";\nimport jwt_decode from \"jwt-decode\";\nimport ProfileImage from \"./ProfileImage\";\nimport { UploadProfileImage } from \"./UploadProfileImage\";\nimport { getAge } from \"../utils/getAge\";\nimport moment from \"moment\";\n\nfunction GetProfileUser() {\n  const [userName, setUserName] = useState(\"\");\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userLocation, setUserLocation] = useState(\"\");\n  const [userTeam, setUserTeam] = useState(\"\");\n  const [userNumber, setUserNumber] = useState(\"\");\n  const [userBirthday, setUserBirthday] = useState(\"\");\n  const [userPosition, setUserPosition] = useState(\"Portero\");\n  const [userDescription, setUserDescription] = useState(\"\");\n  const [response, setResponse] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [userInfo, setUserInfo] = useState(\"\");\n  const [token, setToken] = useContext(AuthContext);\n  const decodedToken = jwt_decode(token);\n  const [userImage, setUserImage] = useState(\"\");\n  const { userId, userRol } = decodedToken;\n  const [formState, setFormState] = useState(\"\");\n\n  const [userInfoReloader, setUserInfoReloader] = useState(0);\n  const refreshUserInfo = () => setUserInfoReloader(Math.random());\n\n  useEffect(() => {\n    const loadUserInfo = async () => {\n      const response = await fetch(\n        `http://localhost:8000/api/v1/users/profiles/${userId}`\n      );\n      if (response.ok) {\n        const body = await response.json();\n        setUserInfo(body.user);\n        setUserEmail(body.user.userEmail);\n        setUserName(body.user.userName);\n        setUserTeam(body.user.userTeam);\n        setUserNumber(body.user.userNumber);\n        setUserDescription(body.user.userDescription);\n        setUserLocation(body.user.userLocation);\n        setUserBirthday(body.user.userBirthday);\n        setUserPosition(body.user.userPosition);\n        setUserImage(body.user.userImage);\n        setFormState(\"activo\");\n      }\n    };\n    loadUserInfo();\n  }, [formState, userId]);\n\n  const birth = moment(userInfo.userBirthday).format(\"YYYY-MM-DD\");\n  console.log(birth);\n  console.log('Este es le moment', moment())\n  return <div>{getAge(birth)}</div>;\n}\n\nexport { GetProfileUser };\n"]},"metadata":{},"sourceType":"module"}