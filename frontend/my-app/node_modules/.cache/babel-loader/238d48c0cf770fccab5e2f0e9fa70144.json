{"ast":null,"code":"var _jsxFileName = \"/home/diego/Escritorio/OjeadorApp/ojeador/frontend/my-app/src/components/UpdateUser.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { AuthContext } from \"./AuthContext\";\nimport jwt_decode from \"jwt-decode\";\nimport ProfileImage from \"./ProfileImage\";\nimport { UploadProfileImage } from \"./UploadProfileImage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UpdateUser() {\n  _s();\n\n  const [token, setToken] = useContext(AuthContext);\n  const decodedToken = jwt_decode(token);\n  const {\n    userId,\n    userRol\n  } = decodedToken;\n\n  if (userRol === \"Player\") {\n    const [userName, setUserName] = useState(\"\");\n    const [userEmail, setUserEmail] = useState(\"\");\n    const [userLocation, setUserLocation] = useState(\"\");\n    const [userTeam, setUserTeam] = useState(\"\");\n    const [userNumber, setUserNumber] = useState(\"83\");\n    const [userImage, setUserImage] = useState(\"\");\n    const [userBirthday, setUserBirthday] = useState(\"1990/02/01\");\n    const [userPosition, setUserPosition] = useState(\"Portero\");\n    const [userDescription, setUserDescription] = useState(\"\");\n    const [response, setResponse] = useState(\"\");\n    const [errorMsg, setErrorMsg] = useState(\"\");\n    const [userInfo, setUserInfo] = useState(\"\");\n    const [formState, setFormState] = useState(\"\");\n    const [userInfoReloader, setUserInfoReloader] = useState(0);\n\n    const refreshUserInfo = () => setUserInfoReloader(Math.random());\n\n    useEffect(() => {\n      const loadUserInfo = async () => {\n        const response = await fetch(`http://localhost:8000/api/v1/users/profiles/${userId}`);\n\n        if (response.ok) {\n          const body = await response.json();\n          setUserInfo(body);\n          setUserEmail(body.userEmail);\n          setUserName(body.userName);\n          setUserTeam(body.userTeam);\n          setUserNumber(body.userNumber);\n          setUserDescription(body.userDescription);\n          setUserLocation(body.userLocation);\n          setUserBirthday(body.userBirthday);\n          setUserPosition(body.userPosition);\n          setFormState(\"activo\");\n        }\n      };\n    }, [formState, userId]);\n\n    async function handleSubmit(event) {\n      event.preventDefault();\n      const nuevoUsuarioServidor = {\n        userName: userName,\n        userEmail: userEmail,\n        userBirthday: userBirthday,\n        userDescription: userDescription,\n        userLocation: userLocation,\n        userNumber: userNumber,\n        userPosition: userPosition,\n        userTeam: userTeam\n      };\n      const res = await fetch(`http://localhost:8000/api/v1/users/profiles/update/${userId}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(nuevoUsuarioServidor)\n      });\n\n      if (res.ok) {\n        const resMessage = await res.json();\n        setResponse(\"Usuario Actualizado\");\n      } else {\n        const resMessage = await res.json();\n        console.log(\"eso es el res message\", resMessage);\n        setResponse(resMessage.error);\n      }\n\n      refreshUserInfo();\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"updateuser-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"update-user-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"update-user-wrapper-p\",\n          children: \"EDITAR USUARIO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProfileImage, {\n          id: \"avatar-profile\",\n          userInfoReloader: userInfoReloader\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-image-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-image\",\n            children: /*#__PURE__*/_jsxDEV(UploadProfileImage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"update-user\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"userName\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Nombre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"update-user-input\",\n                type: \"text\",\n                name: \"userName\",\n                value: userName,\n                onChange: e => setUserName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"userEmail\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"update-user-input\",\n                type: \"email\",\n                name: \"userEmail\",\n                value: userEmail,\n                onChange: e => setUserEmail(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"userLocation\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Localidad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"update-user-input\",\n                type: \"text\",\n                name: \"userLocation\",\n                value: userLocation,\n                onChange: e => setUserLocation(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"userTeam\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Equipo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"update-user-input\",\n                type: \"text\",\n                name: \"userTeam\",\n                value: userTeam,\n                onChange: e => setUserTeam(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), userRol === \"Player\" ? /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"userNumber\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"N\\xFAmero camiseta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"update-user-input\",\n                type: \"number\",\n                name: \"userNumber\",\n                value: userNumber,\n                onChange: e => setUserNumber(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this) : \"\", userRol === \"Player\" ? /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"userBirthday\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Fecha de Nacimiento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"update-user-input\",\n                type: \"date\",\n                name: \"userBirthday\",\n                value: userBirthday,\n                onChange: e => setUserBirthday(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this) : \"\", userRol === \"Player\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Elija su posici\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                onChange: e => setUserPosition(e.target.value),\n                value: userPosition,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Portero\",\n                  children: \"Portero\"\n                }, \"Portero\", false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Defensa\",\n                  children: \"Defensa\"\n                }, \"Defensa\", false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Mediocentro\",\n                  children: \"Mediocentro\"\n                }, \"Mediocentro\", false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Delantero\",\n                  children: \"Delantero\"\n                }, \"Delantero\", false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"userDescription\",\n              children: [\"Descripci\\xF3n\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"userDescription\",\n                value: userDescription,\n                onChange: e => setUserDescription(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"update-user-button\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                children: \"Guardar cambios\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"response-message-player\",\n            children: response && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: response\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(UpdateUser, \"R3pDV0WjdNuUt4JD09FLLk1RRrI=\");\n\n_c = UpdateUser;\nexport { UpdateUser };\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateUser\");","map":{"version":3,"sources":["/home/diego/Escritorio/OjeadorApp/ojeador/frontend/my-app/src/components/UpdateUser.js"],"names":["React","useContext","useEffect","useState","AuthContext","jwt_decode","ProfileImage","UploadProfileImage","UpdateUser","token","setToken","decodedToken","userId","userRol","userName","setUserName","userEmail","setUserEmail","userLocation","setUserLocation","userTeam","setUserTeam","userNumber","setUserNumber","userImage","setUserImage","userBirthday","setUserBirthday","userPosition","setUserPosition","userDescription","setUserDescription","response","setResponse","errorMsg","setErrorMsg","userInfo","setUserInfo","formState","setFormState","userInfoReloader","setUserInfoReloader","refreshUserInfo","Math","random","loadUserInfo","fetch","ok","body","json","handleSubmit","event","preventDefault","nuevoUsuarioServidor","res","method","headers","Authorization","JSON","stringify","resMessage","console","log","error","e","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { AuthContext } from \"./AuthContext\";\nimport jwt_decode from \"jwt-decode\";\nimport ProfileImage from \"./ProfileImage\";\nimport { UploadProfileImage } from \"./UploadProfileImage\";\n\nfunction UpdateUser() {\n  const [token, setToken] = useContext(AuthContext);\n  const decodedToken = jwt_decode(token);\n  const { userId, userRol } = decodedToken;\n  if (userRol === \"Player\") {\n    const [userName, setUserName] = useState(\"\");\n    const [userEmail, setUserEmail] = useState(\"\");\n    const [userLocation, setUserLocation] = useState(\"\");\n    const [userTeam, setUserTeam] = useState(\"\");\n    const [userNumber, setUserNumber] = useState(\"83\");\n    const [userImage, setUserImage] = useState(\"\");\n    const [userBirthday, setUserBirthday] = useState(\"1990/02/01\");\n    const [userPosition, setUserPosition] = useState(\"Portero\");\n    const [userDescription, setUserDescription] = useState(\"\");\n    const [response, setResponse] = useState(\"\");\n    const [errorMsg, setErrorMsg] = useState(\"\");\n    const [userInfo, setUserInfo] = useState(\"\");\n    const [formState, setFormState] = useState(\"\");\n\n    const [userInfoReloader, setUserInfoReloader] = useState(0);\n    const refreshUserInfo = () => setUserInfoReloader(Math.random());\n\n    useEffect(() => {\n      const loadUserInfo = async () => {\n        const response = await fetch(\n          `http://localhost:8000/api/v1/users/profiles/${userId}`\n        );\n        if (response.ok) {\n          const body = await response.json();\n          setUserInfo(body);\n          setUserEmail(body.userEmail);\n          setUserName(body.userName);\n          setUserTeam(body.userTeam);\n          setUserNumber(body.userNumber);\n          setUserDescription(body.userDescription);\n          setUserLocation(body.userLocation);\n          setUserBirthday(body.userBirthday);\n          setUserPosition(body.userPosition);\n          setFormState(\"activo\");\n        }\n      };\n    }, [formState, userId]);\n\n    async function handleSubmit(event) {\n      event.preventDefault();\n\n      const nuevoUsuarioServidor = {\n        userName: userName,\n        userEmail: userEmail,\n        userBirthday: userBirthday,\n        userDescription: userDescription,\n        userLocation: userLocation,\n        userNumber: userNumber,\n        userPosition: userPosition,\n        userTeam: userTeam,\n      };\n\n      const res = await fetch(\n        `http://localhost:8000/api/v1/users/profiles/update/${userId}`,\n        {\n          method: \"PUT\",\n          headers: {\n            \"Content-type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify(nuevoUsuarioServidor),\n        }\n      );\n      if (res.ok) {\n        const resMessage = await res.json();\n        setResponse(\"Usuario Actualizado\");\n      } else {\n        const resMessage = await res.json();\n        console.log(\"eso es el res message\", resMessage);\n        setResponse(resMessage.error);\n      }\n      refreshUserInfo();\n    }\n    return (\n      <div className=\"updateuser-container\">\n        <div className=\"update-user-wrapper\">\n          <p className=\"update-user-wrapper-p\">EDITAR USUARIO</p>\n          <ProfileImage\n            id=\"avatar-profile\"\n            userInfoReloader={userInfoReloader}\n          />\n          <div className=\"upload-image-wrapper\">\n            <div className=\"upload-image\">\n              <UploadProfileImage />\n            </div>\n          </div>\n\n          <div className=\"update-user\">\n            <form onSubmit={handleSubmit}>\n              <label htmlFor=\"userName\">\n                <p>Nombre</p>\n                <input\n                  className=\"update-user-input\"\n                  type=\"text\"\n                  name=\"userName\"\n                  value={userName}\n                  onChange={(e) => setUserName(e.target.value)}\n                />\n              </label>\n              <label htmlFor=\"userEmail\">\n                <p>Email</p>\n                <input\n                  className=\"update-user-input\"\n                  type=\"email\"\n                  name=\"userEmail\"\n                  value={userEmail}\n                  onChange={(e) => setUserEmail(e.target.value)}\n                />\n              </label>\n              <label htmlFor=\"userLocation\">\n                <p>Localidad</p>\n                <input\n                  className=\"update-user-input\"\n                  type=\"text\"\n                  name=\"userLocation\"\n                  value={userLocation}\n                  onChange={(e) => setUserLocation(e.target.value)}\n                />\n              </label>\n              <label htmlFor=\"userTeam\">\n                <p>Equipo</p>\n                <input\n                  className=\"update-user-input\"\n                  type=\"text\"\n                  name=\"userTeam\"\n                  value={userTeam}\n                  onChange={(e) => setUserTeam(e.target.value)}\n                />\n              </label>\n              {userRol === \"Player\" ? (\n                <label htmlFor=\"userNumber\">\n                  <p>Número camiseta</p>\n                  <input\n                    className=\"update-user-input\"\n                    type=\"number\"\n                    name=\"userNumber\"\n                    value={userNumber}\n                    onChange={(e) => setUserNumber(e.target.value)}\n                  />\n                </label>\n              ) : (\n                \"\"\n              )}\n\n              {userRol === \"Player\" ? (\n                <label htmlFor=\"userBirthday\">\n                  <p>Fecha de Nacimiento</p>\n                  <input\n                    className=\"update-user-input\"\n                    type=\"date\"\n                    name=\"userBirthday\"\n                    value={userBirthday}\n                    onChange={(e) => setUserBirthday(e.target.value)}\n                  />\n                </label>\n              ) : (\n                \"\"\n              )}\n              {userRol === \"Player\" ? (\n                <div>\n                  <p>Elija su posición</p>\n                  <select\n                    onChange={(e) => setUserPosition(e.target.value)}\n                    value={userPosition}\n                  >\n                    <option value=\"Portero\" key=\"Portero\">\n                      Portero\n                    </option>\n                    <option value=\"Defensa\" key=\"Defensa\">\n                      Defensa\n                    </option>\n                    <option value=\"Mediocentro\" key=\"Mediocentro\">\n                      Mediocentro\n                    </option>\n                    <option value=\"Delantero\" key=\"Delantero\">\n                      Delantero\n                    </option>\n                  </select>\n                </div>\n              ) : (\n                \"\"\n              )}\n              <label htmlFor=\"userDescription\">\n                Descripción\n                <textarea\n                  id=\"userDescription\"\n                  value={userDescription}\n                  onChange={(e) => setUserDescription(e.target.value)}\n                />\n              </label>\n              <div className=\"update-user-button\">\n                <button type=\"submit\">Guardar cambios</button>\n              </div>\n            </form>\n            <div className=\"response-message-player\">\n              {response && <div>{response}</div>}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport { UpdateUser };\n"]},"metadata":{},"sourceType":"module"}