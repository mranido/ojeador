{"ast":null,"code":"var _jsxFileName = \"/home/diego/Escritorio/OjeadorApp/ojeador/frontend/my-app/src/components/MainPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { AuthContext } from \"./AuthContext\";\nimport { decodeTokenData } from \"../utils/decodeToken\";\nimport { FaStar } from \"react-icons/fa\";\nimport { Link } from \"react-router-dom\";\nimport \"./../style/MainPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function MainPage() {\n  _s();\n\n  const [user, setUser] = useState([]);\n  const [userVideo, setUserVideo] = useState([]);\n  const [userInfoReloader, setUserInfoReloader] = useState(0);\n\n  const refreshUserInfo = () => setUserInfoReloader(Math.random());\n\n  const [token] = useContext(AuthContext);\n\n  const decodedToken = () => {\n    if (!decodeTokenData(token)) {\n      return \" \";\n    } else {\n      return decodeTokenData(token).userRol;\n    }\n  };\n\n  const userRol = decodedToken();\n  useEffect(() => {\n    const loadVideos = async () => {\n      const response = await fetch(`http://localhost:8000/api/v1/videos/`);\n\n      if (response.ok) {\n        const body = await response.json();\n        setUserVideo(body);\n      }\n    };\n\n    loadVideos();\n  }, []);\n  let videoUrl = userVideo.map(i => {\n    return {\n      userId: i.userId,\n      videoUrl: i.videoUrl,\n      videoIduser: i.videoIduser,\n      userName: i.userName,\n      userImage: i.userImage,\n      userNumber: i.userNumber,\n      avgMedia: i.avgMedia\n    };\n  }).reverse();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: \"none\",\n        paddingLeft: 0,\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        flexGrow: \"1\",\n        maxWidth: \"320px\"\n      },\n      children: videoUrl.map((url, index) => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          prop: url.userId,\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            controls: true,\n            src: `/videos/${url.videoUrl}`,\n            type: \"video/mp4\",\n            width: \"256px\",\n            height: \"144px\",\n            style: {\n              borderRadius: \"6%\"\n            },\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [url.userImage ? /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/profile/user/${url.userId}`,\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `/images/profiles/${url.userImage}`,\n                    alt: \"Imagen de perfil\",\n                    className: \"image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/profile/user/${url.userId}`,\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `/images/profiles/image-default.png`,\n                    alt: \"Imagen de perfil\",\n                    className: \"image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 23\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: url.userName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this), url.avgMedia ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [url.avgMedia, /*#__PURE__*/_jsxDEV(FaStar, {\n                    color: \"#5ACA75\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 23\n                }, this) : \"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this), userRol === \"Scout\" ? /*#__PURE__*/_jsxDEV(Link, {\n                to: {\n                  pathname: \"/contact\",\n                  state: {\n                    id: `${url}`\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"Contacta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 21\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)]\n        }, url.videoUrl, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MainPage, \"XdWblmfS4HmM3HZTAGWDifm/kes=\");\n\n_c = MainPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"sources":["/home/diego/Escritorio/OjeadorApp/ojeador/frontend/my-app/src/components/MainPage.js"],"names":["React","useContext","useEffect","useState","AuthContext","decodeTokenData","FaStar","Link","MainPage","user","setUser","userVideo","setUserVideo","userInfoReloader","setUserInfoReloader","refreshUserInfo","Math","random","token","decodedToken","userRol","loadVideos","response","fetch","ok","body","json","videoUrl","map","i","userId","videoIduser","userName","userImage","userNumber","avgMedia","reverse","display","justifyContent","listStyle","paddingLeft","flexDirection","flexGrow","maxWidth","url","index","borderRadius","pathname","state","id"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { AuthContext } from \"./AuthContext\";\nimport { decodeTokenData } from \"../utils/decodeToken\";\nimport { FaStar } from \"react-icons/fa\";\nimport { Link } from \"react-router-dom\";\nimport \"./../style/MainPage.css\";\n\nexport function MainPage() {\n  const [user, setUser] = useState([]);\n  const [userVideo, setUserVideo] = useState([]);\n  const [userInfoReloader, setUserInfoReloader] = useState(0);\n  const refreshUserInfo = () => setUserInfoReloader(Math.random());\n  const [token] = useContext(AuthContext);\n  const decodedToken = () => {\n    if (!decodeTokenData(token)) {\n      return \" \";\n    } else {\n      return decodeTokenData(token).userRol;\n    }\n  };\n\n  const userRol = decodedToken();\n\n  useEffect(() => {\n    const loadVideos = async () => {\n      const response = await fetch(`http://localhost:8000/api/v1/videos/`);\n      if (response.ok) {\n        const body = await response.json();\n        setUserVideo(body);\n      }\n    };\n    loadVideos();\n  }, []);\n\n  let videoUrl = userVideo\n    .map((i) => {\n      return {\n        userId: i.userId,\n        videoUrl: i.videoUrl,\n        videoIduser: i.videoIduser,\n        userName: i.userName,\n        userImage: i.userImage,\n        userNumber: i.userNumber,\n        avgMedia: i.avgMedia,\n      };\n    })\n    .reverse();\n\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n      <ul\n        style={{\n          listStyle: \"none\",\n          paddingLeft: 0,\n          display: \"flex\",\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n          flexGrow: \"1\",\n          maxWidth: \"320px\",\n        }}\n      >\n        {videoUrl.map((url, index) => {\n          return (\n            <li key={url.videoUrl} prop={url.userId}>\n              <video\n                controls\n                src={`/videos/${url.videoUrl}`}\n                type=\"video/mp4\"\n                width=\"256px\"\n                height=\"144px\"\n                style={{ borderRadius: \"6%\" }}\n              >\n                {\" \"}\n              </video>\n              <div>\n                <div className=\"container-info\">\n                  <div>\n                    {url.userImage ? (\n                      <Link to={`/profile/user/${url.userId}`}>\n                        <img\n                          src={`/images/profiles/${url.userImage}`}\n                          alt=\"Imagen de perfil\"\n                          className=\"image\"\n                        ></img>\n                      </Link>\n                    ) : (\n                      <Link to={`/profile/user/${url.userId}`}>\n                        <img\n                          src={`/images/profiles/image-default.png`}\n                          alt=\"Imagen de perfil\"\n                          className=\"image\"\n                        ></img>\n                      </Link>\n                    )}{\" \"}\n                  </div>{\" \"}\n                  <div>\n                    <div>{url.userName}</div>\n                    {url.avgMedia ? (\n                      <div>\n                        {url.avgMedia}\n                        <FaStar color=\"#5ACA75\"></FaStar>\n                      </div>\n                    ) : (\n                      \"\"\n                    )}\n                  </div>\n                  {userRol === \"Scout\" ? (\n                    <Link\n                      to={{ pathname: \"/contact\", state: { id: `${url}` } }}\n                    >\n                      <button>Contacta</button>\n                    </Link>\n                  ) : (\n                    \"\"\n                  )}\n                </div>\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}